import{S as x}from"./sweetalert2-B0Dix5B2.js";import{a as w}from"./axios-D8rVyQy1.js";function v(e,t,o="",r={}){const n={success:"success",error:"error",warning:"warning",info:"info",confirm:"question"},a={popup:"rounded-xl shadow-lg p-6 art-bg-background",title:"font-poppins text-lg font-semibold art-text-primary",content:"font-sans text-sm text-gray-700",confirmButton:"art-btn-primary py-2 px-4 rounded-md shadow-md transition-all",cancelButton:"art-btn-tertiary py-2 px-4 rounded-md shadow-md transition-all"},{confirmText:i="Aceptar",cancelText:l="Cancelar",timer:s=["success","info"].includes(e)?2500:null,useAnimatedIcon:d=!0,showConfirmButton:f=e!=="info",showCancelButton:m=e==="confirm",customClass:p={},html:g=null,...h}=r,c=d?`/images/icons/swal_alert/${e.charAt(0).toUpperCase()+e.slice(1)}.gif`:null;return x.fire({icon:c?void 0:n[e]||"info",title:t,text:o,html:g,showConfirmButton:f,showCancelButton:m,confirmButtonText:i,cancelButtonText:l,timer:s,imageUrl:c,imageWidth:80,imageHeight:80,customClass:{...a,...p},...h})}function u(e){if(console.error("Error en la petición:",e),e.response){const{status:t,data:o}=e.response;if(t===422&&o.errors){b(o.errors);return}let r="Ocurrió un error inesperado.";o!=null&&o.message?r=o.message:t===401?(r="Sesión expirada o no autorizado.",localStorage.removeItem("token"),window.location.href="/login"):t===403?r="No tienes permisos para acceder a este recurso.":t===500?r="Error interno del servidor.":e.request&&(r="No se recibió respuesta del servidor."),v("error","",r)}}function b(e){var o;let t=null;for(const r in e){const n=document.getElementById(r);if(n){n.classList.add("art-input-error","focus:ring-red-500");let a=(o=n.closest("div"))==null?void 0:o.querySelector(".error-icon");a&&a.classList.remove("invisible");let i=document.getElementById(`hs-validation-${r}-error-helper`);i&&(i.textContent=e[r][0],i.classList.remove("invisible")),t||(t=n)}}t&&t.focus()}function E(){document.querySelectorAll("input").forEach(e=>{e.classList.remove("art-input-error","focus:ring-red-500")}),document.querySelectorAll(".error-icon").forEach(e=>e.classList.add("invisible")),document.querySelectorAll(".error-message").forEach(e=>{e.classList.add("invisible"),e.textContent=""})}function A(e,t,o,r,n,a={}){E();const i=localStorage.getItem("token");let l={"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`},...a};w({url:e,method:t,data:o,headers:l}).then(s=>{s.status===200?r(s.data):(console.warn("Respuesta inesperada:",s),u(s))}).catch(s=>{console.error("Error en la petición:",s),u(s),n&&n(s)})}const B=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{v as a,u as h,B as i,E as l,b as m,A as s};
